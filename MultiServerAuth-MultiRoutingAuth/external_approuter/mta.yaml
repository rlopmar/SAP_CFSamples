## Generated mta.yaml based on template version 0.4.0
## appName = ccodataservice
## language=nodejs; multitenant=false
## approuter=
_schema-version: '3.1'
ID: external_approuter
version: 1.0.0
description: 'External AppRouter for the project. Third party applications access the project APIs through this AppRouter.'
parameters:
    enable-parallel-deployments: true

build-parameters:
    before-all:
        - builder: custom
          commands:
              - npm install --only=prod --no-optional

modules:
    # ------------------ APP ROUTER MODULE -----------------------
    - name: external_approuter
    # ------------------------------------------------------------
      type: approuter.nodejs
      path: .
      parameters:
          memory: 256M
          disk-quota: 256M
      requires:
        - name: external_approuter_xsuaa

resources:
    # ----------------------- UAA SERVICE ------------------------
    - name: external_approuter_xsuaa
    # ------------------------------------------------------------
      type: org.cloudfoundry.managed-service
      parameters:
          service: xsuaa
          service-plan: application
          path: ./xs-security.json
